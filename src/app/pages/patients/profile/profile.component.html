<nb-card [nbSpinner]="isLoading">
    <nb-card-body>
        <div class="row">
            <div class="col-md-2">
                <div class="py-2 text-center">
                    <nb-user class="justify-content-center pb-2" size="giant" [name]="patientName"
                        [picture]="patient?.imageUrl" onlyPicture='true'>
                    </nb-user>
                    <div class="subtitle">{{patientName}}</div>
                    <div class="caption">{{patient?.dob}}</div>
                </div>
            </div>
            <div class="col-md-3">
                <p>
                    <nb-icon icon="phone" nbTooltip="Phone" nbTooltipPlacement="left" pack="font-awesome"></nb-icon>
                    <span class="ps-4">{{patient?.phoneNumber}}</span>
                </p>
                <p>
                    <nb-icon icon="email-outline" nbTooltip="Email" nbTooltipPlacement="left"></nb-icon>
                    <span class="ps-4">{{patient?.email}}</span>
                </p>
                <div [ngSwitch]="patient?.gender">
                    <p *ngSwitchCase="0">
                        <nb-icon icon="venus-mars" nbTooltip="Gender" nbTooltipPlacement="left" pack="font-awesome">
                        </nb-icon><span class="ps-4">{{'kMale' | translate}}</span>
                    </p>
                    <p *ngSwitchCase="1">
                        <nb-icon icon="venus-mars" nbTooltip="Gender" nbTooltipPlacement="left" pack="font-awesome">
                        </nb-icon><span class="ps-4">{{'kFemale' | translate}}</span>
                    </p>
                    <p *ngSwitchCase="2">
                        <nb-icon icon="venus-mars" nbTooltip="Gender" nbTooltipPlacement="left" pack="font-awesome">
                        </nb-icon><span class="ps-4">{{'kOther' | translate}}</span>
                    </p>
                </div>
            </div>
            <div class="col-md-4 mt-3">
                <div>
                    <div class="d-flex">
                        <nb-icon icon="map-marker-alt" nbTooltip="Location" nbTooltipPlacement="left" pack="font-awesome">
                        </nb-icon>
                        <div class="ps-4">
                            <div>{{patient?.address}}, </div>
                            <div>
                                <span *ngIf="patient?.city">{{patient?.city}}, </span>
                                <span *ngIf="patient?.state">{{patient?.state}}, </span>
                                <span *ngIf="patient?.zipcode">{{patient?.zipcode}}, </span>
                                <span *ngIf="patient?.country">{{patient?.country}}</span>.
                            </div>
                        </div>
                    </div>
                    <p>
                        <nb-icon icon="clock-outline" nbTooltip="Morbidity" nbTooltipPlacement="left"></nb-icon><span class="ps-4"
                            *ngFor="let morbidity of morbidityValue">{{morbidity}}</span>
                    </p>
                </div>
            </div>
            <div class="col-md-3 mt-3">
                <button nbButton status="primary" class="mb-2 w-100 btn-lg" size="small">
                    <nb-icon icon="message-circle-outline"></nb-icon>Chat</button>
                <button nbButton  [nbPopover]="templateRef" nbPopoverPlacement="right" status="success" class="mb-2 w-100 btn-lg" size="small">
                    <nb-icon icon="phone-call-outline"></nb-icon>Call</button>
                <button nbButton status="warning" class="mb-2 w-100" size="small"><nb-icon icon="clock-outline"></nb-icon>Schedule</button>
            </div> 
            <ng-template #templateRef>
                <div class="p-3">
                <button nbButton status="success" class="m-1" size="small"><nb-icon icon="headphones-outline"></nb-icon>Audio</button>
                <button nbButton status="success" class="m-1" size="small"><nb-icon icon="video-outline"></nb-icon>Video</button>
                <button nbButton status="success" class="m-1" size="small"><nb-icon icon="phone-call-outline"></nb-icon>Call Bridge</button>
                </div>
              </ng-template>
        </div>
    </nb-card-body>
</nb-card>
<nb-route-tabset [tabs]="tabs"></nb-route-tabset>