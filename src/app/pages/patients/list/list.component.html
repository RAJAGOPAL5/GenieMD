<nb-card class="patient-list" [nbSpinner]="isLoading">
    <nb-list>
        <nb-list-item class="justify-content-start">
            <nb-button-group status="primary" size="small">
                <button nbButtonToggle nbButton pressed>All</button>
                <button nbButtonToggle nbButton>Monitored</button>
            </nb-button-group>
            <nb-actions size="small">
                <nb-action icon="funnel-outline" (click)="open(filter)" [options]="{ animation: { type: 'zoom' } }">
                </nb-action>
                <nb-action icon="plus-circle-outline" [options]="{ animation: { type: 'zoom' } }"
                    (click)="addPatient()"></nb-action>
            </nb-actions>
        </nb-list-item>
        <nb-list-item>
            <nb-form-field class="w-100">
                <nb-icon nbPrefix icon="search-outline" pack="eva"></nb-icon>
                <input type="search" name="searchText" fullWidth status="success" nbInput [(ngModel)]="searchText"
                    (ngModelChange)="getData()">
            </nb-form-field>
        </nb-list-item>
        <nb-list-item class="cursor-pointer d-flex justify-content-between" *ngFor="let user of users"
            [routerLink]="[user?.patientID, 'vitals']">
            <nb-user class="cursor-pointer warning"
                [ngClass]="{'none': user.monitored == 0,'success': user.alarm == 0 && user.monitored == 1, 'warning': user.alarm == 1 && user.monitored == 1, 'danger': user.alarm == 2 && user.monitored == 1}"
                [name]="user.name" [title]="user.dob" [picture]="user.imageUrl">
            </nb-user>
            <nb-icon icon="edit-outline" [options]="{ animation: { type: 'zoom' } }"
                (click)="addPatient(user?.patientID);$event.stopPropagation();"></nb-icon>
        </nb-list-item>
        <nb-list-item *ngIf="!users?.length">
            <p>No patients found. <a (click)="addPatient()">Create New Patient</a></p>
        </nb-list-item>
    </nb-list>
</nb-card>