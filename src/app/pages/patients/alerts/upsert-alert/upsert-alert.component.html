<nb-card size="medium" class="card-width" [nbSpinner]="isLoading">
    <nb-card-header>
        Alert Notes
    </nb-card-header>
    <nb-card-body>
        <div class="row">
            <div class="col-md-12">
                <textarea name="notes-area" id="" cols="40" rows="3" nbInput placeholder="{{'kWriteNotes' | translate}}" fullWidth
                    [(ngModel)]="alertNote"></textarea>
            </div>
            <div class="col-md-12" *ngIf="notesData.length">
                <nb-list>
                    <nb-list-item *ngFor="let note of notesData | orderBy: order : true " class="d-block">
                        <div class="d-block w-100"><span class="subtitle text-primary ">{{'kTextNotes' | translate}}: </span>
                            {{ note.actionData?.notes || note.actionData}}
                        </div>
                        <div class="d-block w-100">
                            <span class="subtitle text-primary">{{'kUserName' | translate}}:</span> {{note.username}}
                        </div>
                        <div class="d-block w-100"><span class="subtitle text-primary">{{'kCreatedAt' | translate}}:</span>  {{note.actionTime | date : 'dd/MM/yy, h:mm a'}}</div>
                    </nb-list-item>

                </nb-list>
            </div>
            <div class="col-md-12 py-3 text-center subtitle"  *ngIf="!notesData.length">{{'kNoRecordsFound'| translate}}</div>

        </div>
    </nb-card-body>
    <nb-card-footer>
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <button nbButton status="danger" size="medium" class="w-100" (click)="closeModal()">{{'kCancel' |
                    translate}}</button>
            </div>
            <div class="col-md-4">
                <button nbButton status="success" class="w-100" size="medium" (click)="updateNotes()" [disabled]="!alertNote">{{'kSave' |
                    translate}}</button>
            </div>
        </div>
    </nb-card-footer>
</nb-card>